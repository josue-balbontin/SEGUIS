<div class="pedidos-container">
  <!-- Navegación de pestañas -->
  <div class="nav-tabs">
    <button 
      class="tab-button"
      [class.active]="vistaActual === 'registrar'"
      (click)="cambiarVista('registrar')">
      📝 Nuevo Pedido
    </button>
    <button 
      class="tab-button"
      [class.active]="vistaActual === 'historial'"
      (click)="cambiarVista('historial')">
      📋 Historial de Pedidos
    </button>
    <button 
      class="tab-button"
      [class.active]="vistaActual === 'colas'"
      (click)="cambiarVista('colas')">
      🚚 Colas de Entrega
    </button>
    <button 
      class="tab-button"
      [class.active]="vistaActual === 'buscar'"
      (click)="cambiarVista('buscar')">
      🔍 Buscar Pedidos
    </button>
    <button 
      class="tab-button"
      [class.active]="vistaActual === 'estadisticas'"
      (click)="cambiarVista('estadisticas')">
      📊 Estadísticas
    </button>
  </div>

  <!-- Mensajes globales de éxito y error -->
  <div class="messages" *ngIf="mensajeExito || mensajeError">
    <div class="success-message" *ngIf="mensajeExito">
      ✅ {{mensajeExito}}
    </div>
    <div class="error-message" *ngIf="mensajeError">
      ❌ {{mensajeError}}
    </div>
  </div>

  <!-- VISTA 1: REGISTRAR NUEVO PEDIDO -->
  <div class="tab-content" *ngIf="vistaActual === 'registrar'">
    <app-nuevo-pedido (pedidoCreado)="onPedidoCreado($event)"></app-nuevo-pedido>
  </div>

  <!-- VISTA 2: HISTORIAL DE PEDIDOS -->
  <div class="tab-content" *ngIf="vistaActual === 'historial'">
    <app-historial-pedidos #historialComponent></app-historial-pedidos>
  </div>

  <!-- VISTA 3: COLAS DE ENTREGA POR CIUDAD -->
  <div class="tab-content" *ngIf="vistaActual === 'colas'">
    <app-colas-entrega #colasComponent (entregaProcesada)="onEntregaProcesada($event)"></app-colas-entrega>
  </div>

  <!-- VISTA 4: BUSCAR PEDIDOS -->
  <div class="tab-content" *ngIf="vistaActual === 'buscar'">
    <app-buscar-pedidos></app-buscar-pedidos>
  </div>

  <!-- VISTA 5: ESTADÍSTICAS -->
  <div class="tab-content" *ngIf="vistaActual === 'estadisticas'">
    <app-estadisticas #estadisticasComponent></app-estadisticas>
  </div>
</div>
